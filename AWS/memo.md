# 라이브 스트리밍 플랫폼

### **1. 네트워크 및 리전 구성**

- **멀티 리전 구성**
	- 스트리밍 서비스의 가용성을 높이기 위해 데이터를 여러 AWS 리전에 분산 저장
	- 리전 단위의 장애에서도 서비스가 지속
- **VPC 설정**
	- 각 리전에서 VPC를 설정하여 네트워크를 격리
	- 서브넷을 퍼블릭과 프라이빗으로 구분하여 관리의 용이성과 보안을 강화

### **2. 데이터 스트리밍 및 처리**

- **Elastic Load Balancing (ELB)**
	- 트래픽이 많은 시간에도 서버가 과부하되지 않도록 ELB를 사용하여 인입 트래픽을 여러 인스턴스에 분산

### **3. 스토리지 및 데이터베이스**

- **Amazon S3**
	- 녹화된 비디오를 저장하고 필요에 따라 CDN을 통해 배포
	- S3는 높은 내구성을 제공하며, 여러 리전에 걸쳐 데이터를 복제 가능
- **Amazon RDS/Aurora**
	- 메타데이터, 사용자 정보 및 기타 구성 데이터를 저장하기 위한 관계형 데이터베이스 서비스
	- 멀티 AZ 배포 옵션을 사용하여 데이터베이스 가용성과 내구성을 높일 수 있음

### **4. 보안 및 컴플라이언스**

- **IAM (Identity and Access Management)**
	- 사용자와 서비스의 권한을 세밀하게 관리
	- 각 서비스와 사용자에게 최소 권한을 부여하는 방침을 적용
- **Amazon Cognito**
	- 사용자 인증 및 권한 부여를 관리
	- 이는 스트리밍 서비스에서 사용자의 세션을 보안적으로 관리하는 데 필요
- **AWS Shield & WAF**
	- DDoS 공격으로부터 보호하고 웹 애플리케이션 방화벽을 통해 보안 수준을 강화

### **5. 모니터링 및 로깅**

- **Amazon CloudWatch**
	- 서비스의 모니터링 및 로깅을 위해 사용
	- 시스템의 성능을 모니터링하고 문제를 신속하게 발견하여 대응
- **AWS CloudTrail**
	- 사용자 활동 및 API 사용 내역을 로깅
	- 이 정보는 보안 감사 및 디버깅에 유용

### **6. 자동화 및 오케스트레이션**

- **AWS Auto Scaling**
	- 트래픽에 따라 자동으로 인스턴스를 확장하거나 축소
- **AWS Lambda**
	- 서버리스 아키텍처를 통해 백엔드 로직을 관리하며, 스케일링 및 유지 관리가 간편

# 더 고려해야할 요소

### **1. 확장성**

- **동적 확장성**
	- 플랫폼이 사용자 수와 트래픽의 변동에 따라 자원을 동적으로 확장하거나 축소할 수 있어야 함
	- 예를 들어, 인기 있는 이벤트 (올영세일) 중에는 자동으로 추가 리소스를 할당하고, 이벤트가 끝나면 자원을 축소하여 비용 효율성을 유지할 수 있어야 함

### **2. 성능 최적화**

- **스트리밍 최적화**
	- 스트리밍 품질을 최적화하기 위해 적절한 비디오 인코딩, 데이터 압축 방식 및 전송 프로토콜을 선택
	- 콘텐츠 전송 네트워크(CDN)을 통해 전 세계 어디서나 빠르고 안정적인 콘텐츠 전송을 보장해야 함
    - 글로벌 사용자를 위한 CDN
    - 국내 사용자를 위한 CDN

        ### **1. 트래픽 분산**
        - CDN은 웹 트래픽을 여러 서버에 분산시켜 서버에 가해지는 부하를 줄이고, 결과적으로 서버 다운타임을 방지할 수 있음
        - 대규모 이벤트나 프로모션 시에 특히 유용
        
        ### **2. 응답 시간 감소**
        - CDN은 사용자와 물리적으로 가까운 위치에 데이터를 캐시하므로, 사용자가 요청하는 콘텐츠에 대한 응답 시간을 줄일 수 있음
        - 한국 내에서도 사용자의 위치에 따라 응답 시간에 차이가 있을 수 있으므로, CDN을 사용하면 전반적인 사용자 경험을 개선할 수 있음
    
		### **3. 대역폭 비용 절감**
        - CDN을 사용하면 중앙 서버에 가해지는 부하가 줄어들어 대역폭 사용이 감소
        - 이는 특히 대규모 비디오나 미디어 파일을 다룰 때 비용 절감 효과가 클 수 있음        
        
        ### **4. 안정성 향상**
        - 여러 CDN 노드가 동시에 동작하기 때문에 한 노드에 문제가 발생하더라도 다른 노드가 트래픽을 처리할 수 있어 서비스의 전반적인 안정성이 향상
        
        ### **5. 보안 강화**
        - CDN은 보안이 강화된 네트워크를 제공하여 DDoS 공격과 같은 네트워크 공격으로부터 원본 서버를 보호할 수 있음
        - 네트워크 트래픽은 CDN의 보안 레이어를 통해 처리되므로 원본 서버에 대한 직접적인 공격 가능성을 줄일 수 있음
        
        ### **6. 규모의 경제**
        
        - 한국과 같이 인터넷 사용자 밀도가 높은 지역에서는 CDN 서비스가 더욱 효과적일 수 있음
        - 사용자들이 원활하고 빠르게 콘텐츠에 접근할 수 있도록 지원함으로써 전체적인 서비스의 만족도를 높일 수 있음
        

### **3. 비용 관리**

- **비용 효율성**
	- 클라우드 리소스 사용량을 모니터링하고 최적화하여 비용을 효과적으로 관리해야 함
	- AWS의 경우, 예약 인스턴스나 스팟 인스턴스를 사용하여 비용을 절감할 수 있음

### **4. 데이터 관리 및 분석**

- **데이터 수집 및 분석**
	- 사용자 행동 분석, 시청 패턴, 기기 유형 등 다양한 데이터를 수집하고 분석하여 사용자 경험을 개선하고 마케팅 전략을 수립할 수 있어야 함
	- AWS의 Big Data 처리 서비스를 활용할 수 있음

### **5. 재해 복구 및 비즈니스 연속성**

- **백업 및 재해 복구 계획**
	- 데이터 손실이나 시스템 장애가 발생했을 때 빠르게 복구할 수 있도록 백업 전략을 수립하고 정기적으로 검토해야 함
	- AWS에서는 다양한 백업 및 재해 복구 옵션을 제공

### **6. 규제 준수**

- **법적 및 규제 준수**
	- 서비스가 운영되는 모든 지역의 법률, 규정, 표준을 준수해야 함
	- 예를 들어, 개인정보 보호법, 지적 재산권 관련 법률 등을 고려해야 함

# EKS 사용 아키텍처

AWS EKS (Elastic Kubernetes Service)와 같은 쿠버네티스 기반 아키텍처는 라이브 스트리밍 플랫폼에 많은 이점을 제공할 수 있습니다. 쿠버네티스는 컨테이너화된 애플리케이션의 배포, 관리, 확장을 자동화하는 오픈 소스 시스템으로, 대규모 시스템을 효율적으로 운영할 수 있게 해줍니다. 

### **1. 확장성**

- **자동 확장**
	- EKS는 쿠버네티스의 자동 스케일링 기능을 활용하여 애플리케이션의 수요 변화에 따라 자동으로 파드 수를 조절
	- 이는 트래픽이 급증하는 라이브 이벤트 시에 특히 유용

### **2. 높은 가용성**

- **멀티-AZ 배포**
	- EKS를 사용하면 애플리케이션을 AWS의 다양한 가용 영역에 걸쳐 배포할 수 있어, 한 영역에 장애가 발생해도 서비스에 영향을 주지 않음

### **3. 관리의 용이성**

- **표준화된 운영**
	- 쿠버네티스를 사용하면 클라우드 환경에서 애플리케이션을 일관되게 배포하고 관리할 수 있음
	- AWS의 관리형 서비스를 사용함으로써 인프라 관리의 복잡성이 줄어듬

### **4. 비용 효율성**

- **리소스 최적화**
	- 쿠버네티스의 자원 할당 및 스케줄링 기능은 필요한 리소스만큼만 사용하도록 최적화하여 비용을 절감할 수 있음

### **5. 보안**

- **보안 강화**
	- EKS는 AWS의 보안 및 컴플라이언스 프레임워크를 활용하여 데이터 보호 및 접근 제어를 강화
	- 또한, 쿠버네티스의 시크릿 관리, 네트워크 폴리시 등을 활용하여 애플리케이션의 보안을 추가적으로 강화

### **6. DevOps 통합**

- **CI/CD 통합**
	- 쿠버네티스와의 통합이 용이하여 지속적인 통합 및 배포(CI/CD) 파이프라인과 연동하여 빠른 개발과 배포를 가능

### **7. 생태계와 호환성**

- **강력한 생태계**
	- 쿠버네티스는 활발한 커뮤니티와 광범위한 플러그인을 지원하여 다양한 확장 기능을 손쉽게 통합할 수 있음


# 행동 지침


### **1. 문제 식별 및 확인**

- **모니터링 도구 사용**: 모니터링 시스템과 알림을 통해 문제를 신속하게 인지합니다. 예를 들어, Amazon CloudWatch 또는 Google Cloud Monitoring과 같은 도구를 사용하여 시스템의 비정상적인 동작을 감지합니다.
- **로그 분석**: 문제의 원인을 파악하기 위해 로그 데이터를 분석합니다. 로그 관리 도구나 로그 분석 도구를 사용하여 문제 발생 지점을 정확히 찾아냅니다.

### **2. 문제 격리**

- **트래픽 제어**: 필요한 경우, 트래픽을 조절하거나 장애가 발생한 부분으로의 트래픽을 재분배합니다. 예를 들어, DNS 가중치를 조정하여 트래픽을 안정적인 서버로 이동시킬 수 있습니다.
- **서비스 중단 최소화**: 영향을 받는 서비스나 기능을 일시적으로 비활성화하면서 최소한의 서비스 중단으로 문제를 격리합니다.

### **3. 즉각적인 대응**

- **대응 계획 실행**: 사전에 준비된 비상 대응 계획(Incident Response Plan)에 따라 행동합니다. 이 계획은 특정 문제에 대한 복구 절차를 담고 있어야 합니다.
- **팀 협업**: 필요한 경우 다른 팀원이나 부서와 협력하여 문제를 해결합니다. 신속한 의사소통과 협력은 문제 해결을 가속화합니다.

### **4. 문제 해결**

- **문제 해결**: 실제로 문제를 해결하기 위한 기술적 절차를 수행합니다. 이는 패치 적용, 서버 재시작, 구성 변경 등을 포함할 수 있습니다.
- **임시 조치**: 완전한 해결책을 찾기 전까지 임시 조치를 취할 수 있습니다. 예를 들어, 임시 코드 수정이나 서비스 우회 경로 설정 등이 있습니다.

### **5. 사후 분석**

- **원인 분석**: 문제의 근본 원인을 분석합니다. 이 과정은 문제가 왜 발생했는지, 어떻게 해결되었는지 이해하는 데 도움이 됩니다.
- **문서화**: 모든 단계와 발견된 정보를 문서화하여 향후 비슷한 문제에 대비합니다.

### **6. 개선 조치**

- **시스템 개선**: 문제를 해결한 후, 시스템을 개선하여 동일한 문제가 재발하지 않도록 조치합니다. 이는 코드 수정, 인프라 구조 개선, 모니터링 전략 강화 등을 포함할 수 있습니다.
- **리뷰 및 피드백**: 사건에 대한 리뷰를 진행하고, 필요한 경우 팀원들과의 회고를 통해 프로세스를 개선합니다.

SRE의 역할은 단순히 문제를 해결하는 것을 넘어서 시스템의 전반적인 안정성과 효율성을 높이는 것입니다. 이러한 체계적인 접근 방식은 사이트의 신뢰성을 유지하고 사용자 경험을 최적화하는 데 중요한 역할을 합니다.

# SRE 협업

사이트 신뢰성 엔지니어(SRE)가 실무에서 협업을 진행하는 방식은 다양한 팀과의 긴밀한 협력을 필요로 합니다. 이러한 협업은 기술적 문제의 해결은 물론, 시스템의 안정성과 성능 향상을 지속적으로 추구하는 데 중요합니다. 효율적인 협업 방식에는 다음과 같은 요소들이 포함됩니다:

### **1. 명확한 커뮤니케이션**

- **일정한 커뮤니케이션 채널 유지**: Slack, Microsoft Teams, Jira 등의 툴을 활용하여 지속적이고 투명한 커뮤니케이션을 유지합니다.
- **정기적인 미팅**: 일일 스탠드업 미팅, 주간 회의, 사이클 리뷰 미팅 등을 통해 프로젝트 진행 상황과 문제점을 공유합니다.

### **2. 공동의 목표 설정**

- **팀 간 목표 조율**: 다른 팀(개발, 운영, 제품 등)과 공통의 성과 지표(KPIs)와 목표를 설정하여, 모든 팀이 동일한 방향으로 나아갈 수 있도록 합니다.

### **3. 문서화**

- **효과적인 문서화**: 모든 프로세스와 시스템 구성, 문제 해결 단계를 문서화하여 팀 내외부에서 정보를 쉽게 공유하고 접근할 수 있도록 합니다.

### **4. 도구와 자동화의 활용**

- **자동화 도구**: 재발하는 문제에 대한 자동화된 해결책을 개발하여, 수동 작업을 줄이고 효율성을 높입니다.
- **협업 도구**: Git, Jenkins, Ansible 등을 활용하여 코드의 배포, 설정 변경 및 인프라 관리를 자동화하고, 이 과정에서의 협업을 강화합니다.

### **5. 크로스 트레이닝**

- **기술 공유**: 정기적인 기술 세션과 워크숍을 통해 다른 팀원들과 지식을 공유하고, 다양한 기술 스택에 대한 이해를 넓힙니다.

### **6. 문제 해결 및 사고 관리**

- **사고 대응 팀**: 심각한 사고가 발생했을 때를 대비하여 사고 대응 팀을 구성하고, 이 팀이 효과적으로 작동할 수 있도록 훈련합니다.
- **포스트모템 문화**: 문제 발생 후 그 원인과 해결 과정을 분석하는 포스트모템을 진행하고, 이를 통해 얻은 교훈을 전사적으로 공유하여 비슷한 문제의 재발 방지에 힘씁니다.

### **7. 유연성과 개방성**

- **응답성**: 변화하는 요구사항에 빠르게 반응하고, 새로운 기술이나 접근 방식을 적극적으로 수용합니다.
- **피드백 문화**: 지속적인 피드백을 통해 서로의 작업을 개선하고, 열린 마음으로 비판을 수용합니다.

# 옴니채널 전략의 핵심

- **채널 간 통합:**
	- 오프라인, 온라인, 모바일 등 모든 쇼핑 채널이 서로 정보를 공유하여 고객이 어느 채널에서도 같은 정보와 서비스를 받을 수 있도록 함
- **맞춤형 쇼핑 경험:**
	- 고객의 쇼핑 행동과 선호도에 대한 데이터를 분석하여 개인화된 쇼핑 경험을 제공
- **유연한 구매 및 반환 옵션:**
	- 고객이 원하는 방식으로 상품을 구매하고 반환할 수 있도록 다양한 옵션을 제공
	- 예를 들어, 온라인으로 주문하고 가까운 매장에서 픽업하거나 반대로 매장에서 주문하고 집으로 배송 받는 등의 서비스

# On-premise 환경의 서비스 자원을 클라우드로 이동하는 과정에서 발생 가능한 보안 리스크를 제시하고, Action Plan과 함께 구체적인 대응 방안을 제안해 주세요. (1,500자 이내)

마이그레이션 과정 중, 데이터를 이동하는 과정에서 데이터의 유출 및 손실이 발생할 수 있습니다. 클라우드 인프라를 구성할 때, 잘못된 보안 구성을 설정할 시에 취약점이 발생합니다. 또한 안전하지 않은 API를 사용할 때도 문제가 발생합니다. 인프라를 다룰 수 있는 권한 부여 방식이 On-Premise 환경과 상이하기 때문에, 이에 따른 리스크가 생길 수 있습니다.

플랫폼은 AWS라고 가정하고, 위에 제시한 보안 리스크에 대한 대응 방안을 AWS Well-Architected 프레임워크와 AWS Security Hub 문서의 유저 가이드를 토대로 목표와 Task로 나눠 제안하겠습니다.

- 목표 1: 데이터 이동 간 보안 강화
    
    - Task A: 데이터를 암호화해 이동시킵니다. AWS는 S3와 같은 서비스를 이용할 때, 데이터를 전송 중 또는 저장 중에 암호화하는 옵션을 제공합니다. 이때, KMS와 같은 관리형 암호화 키 서비스를 사 용해데터이 암호화 키를 안전하게 관리할 수 있습니다.
    - Task B: Direct Connect를 이용해 데이터 이동을 위한 전용 네트워크 연결을 사용합니다. 인터넷을 우회하고, 안전한 데이터 전송 경로를 확보합니다.
    - Task C: 데이터 마이그레이션 전, 민감도 분석을 실시해 민감한 데이터는 특별히 보호합니다.
- 목표 2: 클라우드 보안 구성 검증 및 강화
    
    - Task A: Security Hub를 활용해 클라우드 환경의 보안 구성을 지속적으로 검사하고 평가합니다. 이를 통해 잘못 구성된 리소스를 식별할 수 있습니다.
    - Task B: IaC를 사용해 보안 설정을 코드로써 관리합니다. Terraform을 사용해 보안 구성을 작성하고 자동화해 인간의 실수로 인한 보안 구성 오류를 최소화할 수 있습니다.
    - Task C: 정기적인 보안 감사 및 평가를 실시해 잠재적인 보안 취약점을 식별하고 개선합니다.
- 목표 3: API 보안 강화
    
    - Task A: 관리형 서비스인 API Gateway를 사용해 API의 트래픽을 관리하고 보안을 강화합니다.
    - Task B: API의 인증과 권한 부여를 위해 OAuth 2.0 등 표준 프로토콜을 사용합니다.
    - Task C: API 사용을 모니터링하고 비정상적인 트래픽을 식별합니다.
    - Task D: API 버전 관리 및 업데이트 정책을 마련해 보안 취약점이 발견되면 빠르게 대응합니다.
- 목표 4: 권한 부여 및 액세스 관리 개선
    
    - Task A: IAM 구성 시, 최소 권한 원칙을 적용해 사용자에게 필요한 권한만 부여합니다.
    - Task B: MFA를 적용하고, 정기적으로 사용자의 권한 검토를 통해 불필요한 권한은 제거합니다.
    - Task C: CloudTrail을 사용해 권한 변경 이력과 사용자 활동을 로깅하고 모니터링합니다.
    - Task D: 역할 기반 액세스 제어를 기반으로 사용자를 그룹으로 묶고, 그룹별로 필요한 액세스 권한을 관리합니다.