# Amazon EMR

- EMR은 Elastic MapReduce의 약어로 AWS에서 빅 데이터 작업을 위한 하둡 클러스터 생성에 사용됨
- 방대한 양의 데이터를 분석하고 처리할 수 있음
- 하둡 클러스터가 있는 빅 데이터와 관련된 내용이 나오면 Amazon EMR을 생각하면 됨
- 하둡 클러스터는 프로비저닝해야 하며 수백 개의 EC2 인스턴스로 구성될 수 있음
- EMR을 사용하는 이유
	- EMR은 빅 데이터 전문가가 사용하는 여러 도구와 함께 제공됨
	- Apache Spark, HBase, Presto Apache Flink는 설정이 어려운데 Amazon EMR이 상기 서비스에 관한 프로비저닝과 구성을 대신 처리
	- 전체 클러스터를 자동으로 확장할 수 있고 스팟 인스턴스와 통합되므로 가격 할인 혜택을 받을 수도 있음
- 시험 측면에서 본 Amazon EMR의 사용 사례
	- 데이터 처리
	- 기계 학습
	- 웹 인덱싱
	- 빅 데이터 작업
	- 모든 작업은 하둡, Spark, HBase, Presto, Flink와 같은 빅 데이터 관련 기술을 사용

## Amazon EMR - Node Types & Purchasing

- Amazon EMR은 EC2 인스턴스의 클러스터로 구성되며 여러 노드 유형이 있음
- 마스터 노드
	- 클러스터를 관리하고 다른 모든 노드의 상태를 조정하며 장기 실행해야 함
- 코어 노드
	- 태스크를 실행하고 데이터를 저장
	- 장기 실행해야 함
- 태스크 노드
	- 테스트만 실행
	- 대게 스팟 인스턴스를 사용하며 태스크 노드 사용은 선택 사항
- 구매 옵션은 때에 따라 다름
	- 온디맨드 EC2 인스턴스 유형
		- 신뢰할 수 있고 예측 가능한 유형의 워크로드를 얻음
		- 절대 종료되지 않음
	- 예약 인스턴스 유형
		- 최소 1년을 사용해야 하는 예약 인스턴스를 사용하는 경우에는 비용을 크게 절약할 수 있으며 가능한 경우에 EMR이 자동으로 예약 인스턴스를 사용
		- 따라서 예약 인스턴스는 장기 실행해야 하는 마스터 노드와 코어 노드에 적합
	- 스팟 인스턴스
		- 종료될 수 있으므로 신뢰도는 떨어지지만 저렴
		- 따라서 스팟 인스턴스는 태스크 노드에 활용하는 게 좋음
- EMR에서 배포할 때는 장기 실행 클러스터에서 예약 인스턴스를 사용하거나 임시 클러스터를 사용해 특정 작업을 수행하고 분석 완료 후에 삭제할 수 있음
