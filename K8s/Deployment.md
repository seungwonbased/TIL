# The "Deployment" Object

- Deployment 객체는 쿠버네티스로 작업할 때 작업하는 주요 객체 중 하나
	- 일반적으로 수동으로 Pod 객체를 직접 생성하여 특정 워커 노드로 이동하지는 않음
	- 대신 deployment 객체를 생성하고, 생성하고 관리해야 하는 pod의 수와 컨테이너 수에 대한 지침을 제공
- Deployment 객체는 하나 이상의 Pod를 제어할 수 있음
	- 따라서 이를 사용하여, 한 번에 여러 Pod를 생성하여 Deployment 객체의 핵심 철학인 내부적으로 컨트롤러 객체를 생성할 수 있음

## 특징
### 원하는 목표를 설정하면 쿠버네티스가 이를 수행

- 예시
	- 구동중인 컨테이너와 두 개의 포드를 가지고 있다면 쿠버네티스가 이 목표 상태에 도달하기 위해 필요한 모든 작업을 수행
	- 그래서 원하는 것을 정의할 수 있고, 쿠버네티스가 수행
- 

이것의 장점은 pod 객체가 쿠버네티스에 의해 생성되고,

그로 인해 pod가 쿠버네티스에 의해 생성된다는 겁니다.

컨테이너는 쿠버네티스에 의해 시작되고,

쿠버네티스는 예를 들어 이러한 pod를 워커 노드에 배치합니다.

이 워커 노드는 이들 새 pod를 위한 충분한 메모리와 CPU 용량을 가지고 있죠.

따라서 수동으로 리모트 머신을 선택하여 거기에 pod를 배치할 필요가 없습니다.

쿠버네티스가 대신 이 작업을 수행합니다.

### Deployment를 일시 중지하거나, 삭제하고, 롤백할 수 있음



즉, 무언가 엉망이 되어 애플리케이션이 실패하더라도,

코드를 변경하고, 오류를 수정하고,

실패한 pod를 새 것으로 교체하기 위해 서두르지 않아도 됩니다.

대신 실패한 deployment를 롤백하고

이전에 작동했던 deployment로 돌아갈 수 있습니다.

그런 다음, 서두르지 않고 버그를 수정할 수 있으며,

그것이 완료되면, 업데이트된 컨테이너 이미지의 업데이트된 코드로

새 deployment를 시작하기만 하면 됩니다.

이것은 매우 편리한 기능입니다.

여기서 언급할 가치가 있는 또다른 편리한 기능은

### Deployment도 스케일링될 수 있음

더 많은 pod 또는 더 적은 pod를 갖고 싶다고

쿠버네티스에 알릴 수 있으며,

특정 메트릭을 설정할 수 있는 오토 스케일링 기능을 사용할 수도 있습니다.

예를 들어 메트릭엔 수신 트래픽과 CPU 사용률이 있습니다.

그리고 이러한 메트릭을 초과하면,

쿠버네티스가 자동으로 더 많은 pod를 생성하므로

들어오는 요청을 처리하기 위해

더 많은 실행 중인 컨테이너 인스턴스가 생성됩니다.

트래픽이 저하되어 줄어들면, 불필요한 pod는 다시 제거됩니다.

이것들이 deployment 객체를 사용할 때 얻을 수 있는 모든 기능입니다.


## 정리

deployment를 생성할 때,

deployment로 하나의 pod를 관리하지만, (역자주: 하나의 포드란, 예를 들어 두 개의 특정 컨테이너를 지닌 한 포드)

쿠버네티스가 관리하는 여러 포드를 갖기 위해

여러 개의 deployment를 생성할 수도 있습니다.

따라서 일반적으로 pod를 직접 생성하지 않으며, 직접 관리하지도 않습니다.

대신, 우리는 deployment를 사용하여, deployment 객체를 생성하고,

이를 쿠버네티스 클러스터에 전송하여, 쿠버네티스가 이를 수행하도록 합니다.

이제 모든 것을 알았으므로 마침내 실전적으로 몇 가지 명령을 실행하여

Minikube 데모 클러스터에서

이러한 deployment를 최종적으로 생성해보도록 하죠.