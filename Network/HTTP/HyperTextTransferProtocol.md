# HTTP, Hyper Text Transfer Protocol

# λ¨λ“  κ²ƒμ΄ HTTP

- HTTP λ©”μ‹μ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅
	- HTML, Text
	- Image, audio, video, file
	- JSON, XML (API)
	- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„° μ „μ†΅ κ°€λ¥
	- μ„λ²„ κ°„μ— λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ λ€λ¶€λ¶„ HTTP μ‚¬μ©
	- μ§€κΈμ€ HTTP μ‹λ€
- κΈ°λ° ν”„λ΅ν† μ½
	- TCP: HTTP/1.1, HTTP/2
		- **HTTP/1.1**: κ°€μ¥ λ§μ΄ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— κ°€μ¥ μ¤‘μ”ν• λ²„μ „
	- UDP: HTTP/3
		- HTTP/3: μ§„ν–‰ μ¤‘, TCP λ€μ‹ μ— UDP μ‚¬μ©, μ„±λ¥ κ°μ„ 

# νΉμ§•

- ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°
	- Request-Response κµ¬μ΅°
	- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ„ λ€κΈ°
	- μ„λ²„κ°€ μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ‘λ‹µ
- λ¬΄μƒνƒ (Stateless) ν”„λ΅ν† μ½
	- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•μ
	- μ¥μ : μ„λ²„ ν™•μ¥μ„± λ†’μ (Scale out)
	- λ‹¨μ : ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„° μ „μ†΅
        ![htx](https://github.com/seungwonbased/TIL/blob/main/Network/assets/htx1.png)
		- μƒνƒ μ μ§€: μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€λ©΄ μ•λ¨
		- λ¬΄μƒνƒ: μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€μ–΄λ„ λ¨
			- κ°‘μκΈ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μ¦κ°€ν•΄λ„ μ„λ²„ λ€κ±° ν¬μ… κ°€λ¥
			- μ‘λ‹µ μ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μμ–΄ λ¬΄ν•ν• μ„λ²„ μ¦μ„¤ κ°€λ¥
	- λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ν•  μ μλ” κ²½μ°λ„ μκ³  μ—†λ” κ²½μ°λ„ μμ
		- μ: λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ° λ΅κ·ΈμΈ ν–λ‹¤λ” μƒνƒλ¥Ό μ„λ²„μ— μ μ§€
		- μΌλ°μ μΌλ΅ λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ… λ“±μ„ μ‚¬μ©ν•΄μ„ μƒνƒ μ μ§€
		- μƒνƒ μ μ§€λ” μµμ†ν•λ§ μ‚¬μ©
- λΉ„ μ—°κ²°μ„± (Connectionless)
    ![htx](https://github.com/seungwonbased/TIL/blob/main/Network/assets/htx2.png)
	- HTTPλ” κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ
	- μΌλ°μ μΌλ΅ μ΄ λ‹¨μ„ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µ
	- ν• μ‹κ°„ λ™μ• μμ² λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­ κ° μ΄ν•λ΅ λ§¤μ° μ‘μ
	- μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μμ
	- ν•κ³„μ™€ κ·Ήλ³µ
		- TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•¨: 3 way handshake μ‹κ°„ μ¶”κ°€
		- μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ JS, CSS, μ¶”κ°€ μ΄λ―Έμ§€ λ“± μλ§μ€ λ¦¬μ†μ¤κ°€ ν•¨κ» λ‹¤μ΄λ΅λ“
		- μ§€κΈμ€ HTTP μ§€μ† μ—°κ²°λ΅ λ¬Έμ  ν•΄κ²°
		- HTTP/2, HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥
	- λ©”μ‹μ§€, μ¤ν™μ΄ λ‹¨μ

# HTTP λ©”μ‹μ§€

![htx](https://github.com/seungwonbased/TIL/blob/main/Network/assets/htx3.png)

- Start-line
	- μ”μ²­ λ©”μ‹μ§€
		- HTTP λ©”μ„λ“
			- GET, POST, PUT, DELETE, β€¦
			- μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
		- μ”μ²­ λ€μƒ
			- absolute-path\[?query]
			- absolute-path: β€/β€λ΅ μ‹μ‘ν•λ” κ²½λ΅
		- HTTP version
	- μ‘λ‹µ λ©”μ‹μ§€
		- HTTP version
		- HTTP μƒνƒ μ½”λ“
			- 200: μ„±κ³µ
			- 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
			- 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
		- μ΄μ  λ¬Έκµ¬: μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€
- Header
	- μ©λ„
		- HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€ μ •λ³΄
		- λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, ν¬κΈ°, μ••μ¶•, μΈμ¦, μ”μ²­ ν΄λΌμ΄μ–ΈνΈ (λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄, β€¦
		- ν‘μ¤€ ν—¤λ”κ°€ λ„λ¬΄ λ§μ
		- ν•„μ”ν•λ©΄ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥
- Message body
	- μ©λ„
		- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°
		- HTML, image, video, JSON λ“± byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥

## ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ λ°μ΄ν„° μ „μ†΅

<aside>
π’΅ λ°μ΄ν„° μ „λ‹¬ λ°©μ‹μ€ ν¬κ² λ‘ κ°€μ§€

</aside>

1. μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
	- GET
	- μ£Όλ΅ μ •λ ¬ ν•„ν„° (κ²€μƒ‰μ–΄)
1. λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
	- POST, PUT, PATCH
	- νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ¦¬μ†μ¤ λ“±λ΅, λ¦¬μ†μ¤ λ³€κ²½
- λ„¤ κ°€μ§€ μƒν™©
	1. μ •μ  λ°μ΄ν„° μ΅°ν
		- μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„
		- μΏΌλ¦¬ νλΌλ―Έν„° λ―Έμ‚¬μ©
		- GETμ„ μ‚¬μ©ν•΄μ„ λ¦¬μ†μ¤ κ²½λ΅λ΅ λ‹¨μν•κ² μ΅°ν κ°€λ¥
	2. λ™μ  λ°μ΄ν„° μ΅°ν
		- μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ ν•„ν„° (κ²€μƒ‰μ–΄)
		- μ΅°ν μ΅°κ±΄μ„ μ¤„μ—¬μ£Όλ” ν•„ν„°, μ΅°ν κ²°κ³Όλ¥Ό μ •λ ¬ν•λ” μ •λ ¬ μ΅°κ±΄μ— μ£Όλ΅ μ‚¬μ©
		- μΏΌλ¦¬ νλΌλ―Έν„° μ‚¬μ©
		- GETμ„ μ‚¬μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬
	3. HTML Formμ„ ν†µν• λ°μ΄ν„° μ „μ†΅
		- νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
		- HTML Formμ„ Submit μ‹ POST μ „μ†΅
			- μ: νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½ λ“±
		- Content-Type: application/x-www-form-urlencoded μ‚¬μ©
			- Formμ λ‚΄μ©μ„ λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄μ„ μ „μ†΅ (key=value, μΏΌλ¦¬ νλΌλ―Έν„° ν•μ‹)
			- μ „μ†΅ λ°μ΄ν„°λ¥Ό URL encoding μ²λ¦¬
				- μ: abcκΉ€ β†’ abc%EA%N%43
		- GET μ „μ†΅λ„ κ°€λ¥
	4. HTTP APIλ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
		- νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
		- μ„λ²„ to μ„λ²„
			- λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹ 
		- μ•± ν΄λΌμ΄μ–ΈνΈ
			- iOS, Android
		- μ›Ή ν΄λΌμ΄μ–ΈνΈ
			- HTMLμ—μ„ Form μ „μ†΅ λ€μ‹  μλ°” μ¤ν¬λ¦½νΈλ¥Ό ν†µν• ν†µμ‹ μ— μ‚¬μ©
			- React, VueJS κ°™μ€ μ›Ή ν΄λΌμ΄μ–ΈνΈμ™€ API ν†µμ‹ 
		- POST, PUT, PATCH: λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„° μ „μ†΅
		- GET: μ΅°ν, μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ°μ΄ν„° μ „λ‹¬
		- Content-Type: application/jsonμ„ μ£Όλ΅ μ‚¬μ© (μ‚¬μ‹¤μƒ ν‘μ¤€)