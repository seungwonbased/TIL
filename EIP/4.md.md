# 서버 프로그램 구현

## 개발 환경 구축

- 개발 프로젝트를 이해하고 소프트웨어 및 하드웨어 장비를 구축하는 것
- 개발 환경은 애플리케이션 운영 환경과 유사한 구조로 구축
- 분석을 기반으로 하드웨어와 소프트웨어 선정
- HW / SW의 성능, 라이선스, 편의성, 비용 등을 고려해 결정

### 하드웨어 환경

- 클라이언트
	- PC, 스마트폰 등
- 서버
	- Web Server: 클라이언트의 정적 요청 처리, 저용량의 정적 파일 제공
	- Web Application Server: 동적 서비스 제공, 애플리케이션과 데이터베이스 서버, 파일 서버의 인터페이스 역할
	- 데이터베이스 서버: DBMS를 운영
	- 파일 서버: 대용량의 파일 저장

### 소프트웨어 환경

- 시스템 소프트웨어
	- 운영체제, 웹 서버 및 WAS 운용을 위한 서버 프로그램, DBMS
- 개발 소프트웨어
	- 요구사항 관리 도구: 요구사항 수집 및 분석, 추적을 지원
- 설계 및 모델링 도구
	- UML을 지원하며 개발의 전 과정에서 설계 및 모델링을 지원
- 구현 도구
	- 개발 언어를 통해 애플리케이션을 실제 구현
- 빌드 도구
	- 소스의 빌드 및 배포, 라이브러리 관리를 지원
- 테스트 도구
	- 모듈이 요구사항에 맞게 동작하는지 테스트
- 형상 관리 도구
	- 산출물을 버전 별로 관리해 품질 향상을 지원

### Web Server의 기능

- HTTP / HTTPS 지원: 브라우저로부터 요청을 받아 응답할 때 사용
- 통신 기록: 처리한 요청들을 로그 파일로 기록
- 정적 파일 관리: HTML, CSS, 이미지 등의 정적 파일을 저장하고 관리
- 대역폭 제한: 네트워크 트래픽 포화 방지를 위해 응답  속도를 제한
- 가상 호스팅: 하나의 서버로 여러 개의 도메인 이름을 연결
- 인증: 합법적인 사용자인지를 확인

### 개발 언어 선정 기준

- 적정성: 개발할 SW 목적에 적합
- 효율성: 코드 작성 및 구현이 효율적
- 이식성: 다양한 시스템에 적용 가능
- 친밀성: 개발자들의 이해도가 높음
- 범용성: 다른 개발 사례 다수 존재

## 소프트웨어 아키텍처

### 소프트웨어 아키텍처

- 소프트웨어를 구성하는 요소들 간의 관계를 표현하는 시스템의 구조 또는 구조체
- 애플리케이션 분할 방법, 분할된 모듈에 할당된 기능, 모듈 간의 인터페이스 등을 결정
- 기본 원리
	- 모듈화
	- 추상화
	- 단계적 분해
	- 정보 은닉

### 모듈화 (Modularity)

- 시스템의 기능을 모듈 단위로 나눠 성능 향상, 유지보수 향상을 추구
- 너무 작게 나누면 모듈 간 통합 비용이 많이 발생
- 너무 크게 나누면 모듈 하나의 개발 비용이 많이 듬

### 추상화 (Abstraction)

- 전체적이고 포괄적인 개념을 설계한 후 세분화해 구체화시켜 나가는 것
- 유형
	- 과정 추상화: 전반적인 흐름만 파악할 수 있게 설계
	- 데이터 추상화: 데이터 구조를 대표할 수 있는 표현으로 추상화
	- 제어 추상화: 이벤트 발생을 대표할 수 있는 표현으로 추상화

### 단계적 분해 (Stepwise Refinement)

- 문제를 상위의 중요 개념으로부터 하위의 개념으로 구체화시키는 분할 기법
- 하향식 설계 전략
- 포괄적 기능 -> 구체화 -> 알고리즘 및 자료 구조 구현

### 정보 은닉 (Information Hiding)

- 한 모듈 내부에 포함된 절차, 자료들의 정보가 감춰져 다른 모듈이 접근하거나 변경하지 못하도록 하는 기법
- 모듈을 독립적으로 운용 가능
- 수정, 시험, 유지보수가 용이해짐

### 상위 설계와 하위 설계

![](https://i.imgur.com/TCDt9x7.png)

### 소프트웨어 아키텍처의 품질 속성

![](https://i.imgur.com/16qvgCZ.png)

### 소프트웨어 아키텍처의 설계 과정

![](https://i.imgur.com/g6exf3g.png)

### 협약(Contract)에 의한 설계

- 컴포넌트를 설계할 때 클래스에 대한 여러 가정을 공유할 수 있도록 명세한 것
- 컴포넌트에 대한 정확한 인터페이스 명세
- 명세에 포함될 조건
	- 선행 조건: 오퍼레이션이 호출되기 전에 참이 되어야 할 조건
	- 결과 조건: 오퍼레이션이 수행된 후 만족되어야 할 조건
	- 불변 조건: 오퍼레이션이 실행되는 동안 항상 만족되어야 할 조건

## 아키텍처 패턴

### 아키텍처 패턴

- 아키텍처를 설계할 때 참조할 수 있는 예제
- 시스템의 기본적인 윤곽 제시
- 서브시스템과 그 역할이 명시되어 있음
- 서브시스템 사시의 관계와 여러 규칙과 지침이 포함되어 있음

### Layers Pattern

![](https://i.imgur.com/gWkZXnV.png)

- 시스템을 계층으로 구분해 구성하는 고전적 패턴
- 하위 계층은 상위 계층에 대한 서비스 제공자가 되고, 상위 계층은 하위 계층의 클라이언트가 됨
- 마주보는 두 레이어 끼리만 상호작용
- 예시: OSI 참조 모델

### Client-Server Pattern

![](https://i.imgur.com/Xx3BT64.png)

- 하나의 서버 컴포넌트와 다수의 클라이언트 컴포넌트로 구성

### Pipe-Filter Pattern

![](https://i.imgur.com/hX9SrtR.png)

- 데이터 스트림 절차의 각 단계를 필터로 캡슐화해 파이프를 통해 전송
- 데이터 변환, 버퍼링, 동기화에 사용됨
- 예시: UNIX Shell

### Model-View-Controller Pattern

![](https://i.imgur.com/7VxIUI3.png)

- 서브시스템을 모델, 뷰, 컨트롤러로 구조화하는 패턴
- 컨트롤러가 사용자의 요청을 받으면 핵심 기능과 데이터를 보관하는 모델을 이용해 뷰에 정보를 출력
- 여러 개의 뷰를 생성 가능
- 한 개의 모델에 대해 여러 개의 뷰를 필요로 하는 대화형 애플리케이션에 적합

### 기타 패턴

![](https://i.imgur.com/PsHLmzE.png)
![](https://i.imgur.com/dkrYf78.png)

## 객체지향

### 객체지향

- 각 요소들을 객체로 만든 후 객체를 조립해 소프트웨어를 개발하는 기법
- 구조적 기법의 문제점 해결하기 위한 해결책
- 재사용 및 확장이 용이, 유지보수가 쉬움
- 구성 요소
	- 객체
	- 클래스
	- 메시지
- 특징
	- 캡슐화
	- 상속
	- 다형성
	- 연관성

### 객체 (Object)

- 데이터와 이를 처리하기 위한 함수를 묶어 놓은 소프트웨어 모듈
- 데이터
	- 객체가 가지고 있는 정보, 속성이나 상태, 분류 등
- 함수
	- 객체가 수행하는 기능, 객체가 갖는 데이터를 처리하는 알고리즘
	- 객체의 상태를 참조하거나 변경하는 수단

### 클래스

- 공통된 속성과 연산을 갖는 객체의 집합
- 객체가 갖는 속성과 연산을 정의하고 있는 틀
- 클래스에 속한 각각의 객체를 인스턴스라고 함

### 메시지

- 객체들 간의 상호작용을 하는 데 사용되는 수단
- 객체에게 어떤 행위를 하도록 지시하는 명령 또는 요구사항
- 메시지를 받은 객체는 대응하는 연산을 수행해 예상된 결과를 반환

### 캡슐화 (Encapsulation)

- 외부 접근을 제한하기 위해 인터페이스를 제외한 세부 내용을 은닉
- 인터페이스가 단순해지고 객체 간 결합도가 낮아짐

### 상속 (Inheritance)

- 상위 클래스의 모든 속성과 연산을 하위 클래스가 물려받는 것
- 하위 클래스는 물려받은 속성과 연산을 다시 정의하지 않아도 즉시 사용 가능
	- 새로운 속성과 연산을 추가해 사용 가능

### 다형성 (Polymorphism)

- 하나의 메시지에 대해 각각의 객체가 가지고 있는 고유한 방법으로 응답할 수 있는 능력

### 연관성 (Relationship)

- 두 개 이상의 객체들이 상호 참조하는 관계
- 종류

![](https://i.imgur.com/ARFKBTE.png)

## 객체지향 분석 및 설계

### 객체지향 분석 (OOA, Object Oriented Analysis)

- 사용자의 요구사항과 관련된 객체, 속성, 연산, 관계 등을 정의해 모델링하는 작업
- 개발을 위한 업무를 객체와 속성, 클래스와 멤버, 전체와 부분 등으로 나눠 분석
- 클래스를 식별하는 것이 객체지향 분석의 주요 목적

### 객체지향 분석의 방법론

![](https://i.imgur.com/uQ3GIXU.png)

### 럼바우의 분석 기법

- 모든 소프트웨어 구성 요소를 그래픽 표기법을 이용해 모델링하는 기법
- **객동기**
	- 객체 모델링 -> 동적 모델링 -> 기능 모델링

![](https://i.imgur.com/4EyMSML.png)

### 객체지향 설계 원칙

- 변경이나 확장에 유연한 시스템을 설계하기 위해 지켜져야 할 원칙
- 종류
	- 단일 책임 원칙 (SRP)
		- 객체는 단 하나의 책임만 가져야 함
	- 개방-폐쇄 원칙 (OCP)
		- 기존의 코드를 변경하지 않고 기능을 추가할 수 있어야 함
	- 리스코프 치환 원칙 (LSP)
		- 자식 클래스는 최소한 부모 클래스의 기능은 수행할 수 있어야 함
	- 인터페이스 분리 원칙 (ISP)
		- 자신이 사용하지 않는 인터페이스와 의존 관계를 맺거나 영향을 받지 않아야 한다는 원칙
	- 의존 역전 원칙 (DIP)
		- 의존 관계 성립 시 추상성이 높은 클래스와 의존 관계를 맺어야 한다는 원칙

## 모듈

### 모듈

- 모듈화를 통해 분리된 시스템의 각 기능
- 서브루틴, 서브시스템, 소프트웨어 내 프로그램, 작업 단위 등
- 각 모듈의 기능이 서로 독립됨
- 모듈의 독립성은 결합도와 응집도에 의해 측정됨

### 결합도 (Coupling)

- 모듈 간에 상호 의존하는 정도
- 두 모듈 사이의 연관 관계
- 결합도가 약할수록 품질이 높음

### 결합도의 종류

- 밑으로 갈수록 결합도가 약함

![](https://i.imgur.com/8u6Y2QA.png)
![](https://i.imgur.com/A2HZ5YI.png)

### 응집도 (Cohension)

- 모듈 내부 요소들이 서로 관련되어 있는 정도
- 응집도가 강할수록 품질이 높고, 약할 수록 품질이 낮음

### 응집도의 종류

- 밑으로 갈수록 응집도가 약함

![](https://i.imgur.com/j3EFOhk.png)

### Fan-In / Fan-Out

- 팬인: 어떤 모듈을 제어하는 모듈의 수
- 팬아웃: 어떤 모듈에 의해 제어되는 모듈의 수
- 팬인이 높다는 것은 재사용 측면에서 설계가 잘 되어 있는 것
- 팬인이 높은 경우 단일 장애점이 발생할 수 있으므로 중점적인 관리 및 테스트 필요

![](https://i.imgur.com/Xe64w01.png)

### N-S Chart (Nassi-Schneiderman Chart)

- 논리의 기술에 중점을 두고 도형을 이용해 표현하는 방법
- 연속, 선택 및 다중 선택, 반복의 세 가지 제어 논리 구조로 표현
- 조건이 복합되어 있는 곳의 처리를 시각적으로 명확히 식별하는 데 적합

## 단위 모듈

### 단위 모듈 (Unit Module)

- SW 구현에 필요한 여러 동작 중 한 가지 동작을 수행하는 기능을 모듈로 구현한 것
- 단위 모듈로 구현되는 하나의 기능을 단위 기능이라고 함
- 독립적인 컴파일이 가능하며 다른 모듈에 호출되거나 삽입되기도 함
- 구현 과정

![](https://i.imgur.com/cjOxJX8.png)

### IPC (Inter Process Communication)

- IPC는 모듈 간 통신 방식을 구현하기 위해 사용되는 대표적인 프로그래밍 인터페이스 집합
- 복수의 프로세스를 수행하며 이뤄지는 프로세스 간 통신까지 구현이 가능
- IPC의 대표 메서드 5가지

![](https://i.imgur.com/bo9fXhS.png)
![](https://i.imgur.com/2DVsdqO.png)

### 단위 모듈 테스트

- 프로그램의 단위 기능으로 구현된 모듈이 정해진 기능을 정확히 수행하는 지 검증하는 것
- 단위 테스트라고도 불림
- 단위 모듈에 대한 코드이므로 시스템 수준의 오류는 잡아낼 수 없음

### Test Case

- 사용자의 요구사항을 정확히 준수하는지 확인하기 위한 테스트 항목에 대한 명세서
- ISO / IEC / IEEE 29119-3 표준에 따른 테스트 케이스의 구성 요소

![](https://i.imgur.com/0B88REI.png)

## 공통 모듈

### 공통 모듈

- 여러 프로그램에서 공통으로 사용할 수 있는 모듈
- 자주 사용되는 계산식이나 매번 필요한 사용자 인증과 같은 기능이 공통 모듈로 구성될 수 있음
- 해당 기능을 명확히 이해할 수 있도록 명세 기법을 준수해야 함

### 공통 모듈 명세 기법의 종류

![](https://i.imgur.com/FClAzyP.png)

### 재사용 (Reuse)

- 이미 개발된 기능들을 새로운 시스템이나 기능 개발에 사용하기 접합하도록 최적화하는 작업
- 재사용 규모에 따른 분류

![](https://i.imgur.com/52tbgtA.png)

### 효과적인 모듈 설계 방안

- 결합도는 줄이고 응집도를 높여 모듈의 독립성과 재사용성을 높임
- 복잡도와 중복성을 줄이고 일관성 유지
- 모듈의 기능은 예측 가능해야 하며 지나치게 제한적이어서는 안 됨
- 모듈 크기는 시스템의 전반적인 기능과 구조를 이해하기 쉬운 크기로 분해
- 효과적인 제어를 위해 모듈 간의 계층적 관계를 정의하는 자료가 제시되어야 함

## 코드

### 코드

- 자료의 분류, 조합, 집계, 추출을 용이하게 하기 위해 사용하는 기호
- 일정한 규칙에 따라 작성되어 정보를 신속, 정확, 명료하게 전달

### 코드의 주요 기능

![](https://i.imgur.com/WVSm1d6.png)

### 코드의 종류

![](https://i.imgur.com/nhFcf4J.png)
![](https://i.imgur.com/CMezJb3.png)

## 디자인 패턴

### 디자인 패턴

- 모듈 간의 관계 및 인터페이스를 설계할 때 참조할  수 있는 예제
- 문제 및 배경, 사례, 샘플 코드 등으로 구성
- 문제 발생 시 디자인 패턴을 참고해 적용하는 것이 효율적

### 생성 패턴 (Creational Pattern)

- 클래스나 객체의 생성과 참조 과정을 정의하는 패턴

![](https://i.imgur.com/A5R0wqn.png)

### 구조 패턴 (Structural Pattern)

- 클래스나 객체들을 조합하여 더 큰 구조로 만드는 패턴

![](https://i.imgur.com/rknbJCZ.png)

### 행위 패턴 (Behavioral Pattern)

- 클래스나 객체들이 서로 상호작용하는 방법이나 책임 분배 방법을 정의하는 패턴

![](https://i.imgur.com/eXPhe9Y.png)
![](https://i.imgur.com/LtoPwrV.png)

## 개발 지원 도구

### 통합 개발 환경 (IDE, Integrated Development Environment)

- 개발에 필요한 환경, 즉 편집기, 컴파일러, 디버거 등의 툴을 하나의 인터페이스로 통합해 제공하는 환경

### IDE 도구의 종류

![](https://i.imgur.com/xXauXQv.png)

### 빌드 도구

- 소스 코드 파일들을 컴퓨터에서 실행할 수 있는 제품 소프트웨어로 변환하는 과정 또는 결과물
- 전처리, 컴파일 등 작업을 수행
- 빌드 도구 종류

![](https://i.imgur.com/aOG6odX.png)

### 기타 협업 도구

- 개발에 참여하는 사람들이 서로 다른 작업 환경에서 원활이 프로젝트를 수행할 수 있도록 도와주는 도구
- 일정 관리, 업무흐름 관리, 정보 공유, 커뮤니케이션 등의 업무 보조 도구가 포함됨

## 서버 개발

### 서버 개발

- 웹 애플리케이션의 로직을 구현할 서버 프로그램을 제작해 WAS에 탑재하는 것

### 서버 개발 프레임워크

- 다양한 네트워크 설정, 요청 및 응답 처리, 아키텍처 모델 구현 등을 손쉽게 처리할 수 있도록 클래스나 인터페이스를 제공
- 대부분 MVC 패턴을 기반으로 개발됨
- 프레임워크 종류

![](https://i.imgur.com/nIKaAPM.png)

### 서버 개발 과정

- DTO / VO, SQL, DAO, Service, Controller를 각각 구현
- 순서는 개발자가 임의로 변경 가능
- 프로그램의 목적, 개발 언어, 규모 등의 이유로 과정을 통합하거나 세분화할 수 있음
- 구현 과정

![](https://i.imgur.com/CG3TUXT.png)

![](https://i.imgur.com/7WAqu00.png)

## 배치 프로그램

### 배치 프로그램 (Batch Program)

- 사용자와의 상호작용 없이 여러 작업들을 미리 정해진 일련의 순서에 따라 일괄적으로 처리하도록 만든 프로그램
- 배치 프로그램의 필수 요소

![](https://i.imgur.com/JdV1Tzh.png)

### 배치 스케줄러

- 일괄 처리 작업이 설정된 주기에 맞춰 자동으로 수행되도록 지원해주는 도구
- Job을 원하는 시간에 처리할 수 있도록 지원하기 때문에 Job Scheduler라고도 함
- 배치 스케줄러의 종류

![](https://i.imgur.com/eRsCVBP.png)
![](https://i.imgur.com/DAN40GV.png)

### crontab 명령어 작성 방법

![](https://i.imgur.com/lPrweqK.png)