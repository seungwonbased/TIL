# Component Scan

- μ¤ν”„λ§μ€ μ„¤μ • μ •λ³΄κ°€ μ—†μ–΄λ„ μλ™μΌλ΅ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” μ»΄ν¬λ„νΈ μ¤μΊ”μ΄λΌλ” κΈ°λ¥μ„ μ κ³µ
- μμ΅΄ κ΄€κ³„λ„ μλ™μΌλ΅ μ£Όμ…ν•λ” **`@Autowired`**λΌλ” κΈ°λ¥λ„ μ κ³µ

---

@ComponentScanμ€ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„ μ‚¬μ©ν•λ” μ• λ…Έν…μ΄μ… μ¤‘ ν•λ‚λ΅, μ»΄ν¬λ„νΈ μ¤μΊ”μ„ μν–‰ν•λ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ»΄ν¬λ„νΈ μ¤μΊ”μ€ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ λΉμΌλ΅ λ“±λ΅ν•  ν΄λμ¤λ¥Ό μλ™μΌλ΅ κ²€μƒ‰ν•κ³  λ“±λ΅ν•λ” κΈ°λ¥μ„ μλ―Έν•©λ‹λ‹¤.

@ComponentScan μ• λ…Έν…μ΄μ…μ€ λ³΄ν†µ @Configuration μ• λ…Έν…μ΄μ…μ΄ μ„ μ–Έλ ν΄λμ¤μ—μ„ μ‚¬μ©λ©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν•΄λ‹Ή ν΄λμ¤μ—μ„ μν–‰ν•λ” μ»΄ν¬λ„νΈ μ¤μΊ”μ λ²”μ„λ¥Ό μ„¤μ •ν•  μ μμµλ‹λ‹¤.

@ComponentScan μ• λ…Έν…μ΄μ…μ€ λ‹¤μκ³Ό κ°™μ€ μ†μ„±λ“¤μ„ μ κ³µν•©λ‹λ‹¤.

- basePackages: κ²€μƒ‰ν•  ν¨ν‚¤μ§€λ¥Ό μ§€μ •ν•©λ‹λ‹¤.
- basePackageClasses: κ²€μƒ‰ν•  ν΄λμ¤λ¥Ό μ§€μ •ν•©λ‹λ‹¤.
- includeFilters: κ²€μƒ‰ν•  ν΄λμ¤λ¥Ό ν•„ν„°λ§ν•  μ΅°κ±΄μ„ μ„¤μ •ν•©λ‹λ‹¤.
- excludeFilters: μ μ™Έν•  ν΄λμ¤λ¥Ό ν•„ν„°λ§ν•  μ΅°κ±΄μ„ μ„¤μ •ν•©λ‹λ‹¤.

@ComponentScan μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ»΄ν¬λ„νΈ μ¤μΊ”μ„ μν–‰ν•λ©΄, ν•΄λ‹Ή ν¨ν‚¤μ§€λ‚ ν΄λμ¤λ¥Ό κΈ°λ°μΌλ΅ μλ™μΌλ΅ λΉμ„ λ“±λ΅ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ λΉμΌλ΅ λ“±λ΅λ ν΄λμ¤λ¥Ό μ‰½κ² κ΄€λ¦¬ν•κ³ , μμ΅΄μ„± μ£Όμ… λ“±μ μ¤ν”„λ§ κΈ°λ¥μ„ ν™μ©ν•  μ μμµλ‹λ‹¤.

λ‹¤μμ€ @ComponentScanμ„ μ‚¬μ©ν•μ—¬ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ λΉμ„ μλ™μΌλ΅ λ“±λ΅ν•λ” μμ‹μ…λ‹λ‹¤.

```java
@Configuration
@ComponentScan(basePackages = {"com.example.myapp.service", "com.example.myapp.dao"})
public class AppConfig {
    // configuration code
}
```

μ„ μμ‹μ—μ„λ” @Configuration μ• λ…Έν…μ΄μ…μ΄ μ„ μ–Έλ AppConfig ν΄λμ¤μ—μ„ @ComponentScan μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬, com.example.myapp.service ν¨ν‚¤μ§€μ™€ com.example.myapp.dao ν¨ν‚¤μ§€μ—μ„ λΉμ„ κ²€μƒ‰ν•λ„λ΅ μ§€μ •ν•κ³  μμµλ‹λ‹¤.

μ΄λ ‡κ² μ„¤μ •λ @ComponentScan μ• λ…Έν…μ΄μ…μ€ ν•΄λ‹Ή ν¨ν‚¤μ§€μ—μ„ λ¨λ“  ν΄λμ¤λ¥Ό κ²€μƒ‰ν•κ³ , @Component, @Service, @Repository, @Controller, @Configuration (@Componentμ ν•μ„ μ• λ…Έν…μ΄μ…) λ“±μ μ¤ν”„λ§ μ• λ…Έν…μ΄μ…μ΄ μ„ μ–Έλ ν΄λμ¤λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μλ™μΌλ΅ λ“±λ΅ν•©λ‹λ‹¤.

μ΄λ¥Ό ν†µν•΄ AppConfig ν΄λμ¤μ—μ„λ” λ‹¤λ¥Έ λΉλ“¤κ³Ό μμ΅΄μ„± μ£Όμ…μ„ ν†µν•΄ μ„λ΅ μƒνΈμ‘μ©ν•λ” ν΄λμ¤λ“¤μ„ μ‰½κ² κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.

---

# λ™μ‘ λ°©λ²•

## 1. @ComponentScan

![Scan](https://github.com/seungwonbased/TIL/blob/main/Spring/assets/scan1.png)

- @ComponentScanμ€ @Componentκ°€ λ¶™μ€ λ¨λ“  ν΄λμ¤λ¥Ό μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅
- μ¤ν”„λ§ λΉμ κΈ°λ³Έ μ΄λ¦„μ€ ν΄λμ¤κ°€ λλ, λ§¨ μ• κΈ€μλ§ μ†λ¬Έμλ΅ λ³€κ²½
    - MemberServiceImpl β†’ memberServiceImpl

## 2. @Autowired μμ΅΄ κ΄€κ³„ μλ™ μ£Όμ…

![Scan](https://github.com/seungwonbased/TIL/blob/main/Spring/assets/scan2.png)

- μƒμ„±μμ— @Autowiredλ¥Ό μ§€μ •ν•λ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ μλ™μΌλ΅ ν•΄λ‹Ή λΉμ„ μ°Ύμ•„μ„ μ£Όμ…
- κΈ°λ³ΈμΌλ΅ νƒ€μ…μ΄ κ°™μ€ λΉμ„ μ°Ύμ•„μ„ μ£Όμ…
- μƒμ„±μμ— νλΌλ―Έν„°κ°€ λ§μ•„λ„ λ‹¤ μ°Ύμ•„μ„ μλ™μΌλ΅ μ£Όμ…

# νƒμƒ‰ μ„μΉμ™€ κΈ°λ³Έ μ¤μΊ” λ€μƒ

### νƒμƒ‰ μ„μΉ μ§€μ •

- basePackages: νƒμƒ‰ν•  ν¨ν‚¤μ§€μ μ‹μ‘ μ„μΉλ¥Ό μ§€μ •, μ΄ ν¨ν‚¤μ§€λ¥Ό ν¬ν•¨ν•΄μ„ ν•μ„ ν¨ν‚¤μ§€λ¥Ό λ¨λ‘ νƒμƒ‰
    - basePackages={β€hello.coreβ€, β€hello.serviceβ€}μ™€ κ°™μ΄ μ—¬λ¬ κ°μ μ‹μ‘ μ„μΉλ¥Ό μ§€μ •ν•  μλ„ μμ
- basePakageClasses: μ§€μ •ν• ν΄λμ¤μ ν¨ν‚¤μ§€λ¥Ό νƒμƒ‰ μ‹μ‘ μ„μΉλ΅ μ§€μ •
- μ§€μ •ν•μ§€ μ•μΌλ©΄ @ComponentScanμ΄ λ¶™μ€ ν΄λμ¤μ ν¨ν‚¤μ§€κ°€ μ‹μ‘ μ„μΉκ°€ λ¨

### κ¶μ¥ν•λ” λ°©λ²•

μ„¤μ • μ •λ³΄ ν΄λμ¤μ μ„μΉλ¥Ό μµμƒλ‹¨μ— λ‘μ–΄ λ¨λ“  μ»΄ν¬λ„νΈκ°€ μ¤μΊ”λ  μ μλ„λ΅ ν•λ” κ²ƒ, μ¤ν”„λ§ λ¶€νΈλ„ μ΄ λ°©λ²•μ„ κΈ°λ³ΈμΌλ΅ μ κ³µ

μλ¥Ό λ“¤μ–΄, ν”„λ΅μ νΈκ°€ λ‹¤μ κµ¬μ΅°λ΅ λμ–΄ μλ‹¤λ©΄

**`com.hello`**

**`com.hello.service`**

**`com.hello.repository`**

**`com.hello`** β†’ ν”„λ΅μ νΈ μ‹μ‘ λ£¨νΈ, μ—¬κΈ°μ— AppConfigμ™€ κ°™μ€ λ©”μΈ μ„¤μ • μ •λ³΄λ¥Ό λ‘κ³ , @ComponentScan μ• λ…Έν…μ΄μ…μ„ λ¶™μΈ ν›„ basePackage μ§€μ •μ€ μƒλµ

μ΄λ ‡κ² ν•λ©΄ **`com.hello`**λ¥Ό ν¬ν•¨ν• ν•μ„λ” λ¨λ‘ μλ™μΌλ΅ μ»΄ν¬λ„νΈ μ¤μΊ”μ λ€μƒμ΄ λλ‹¤.

μ°Έκ³ λ΅ μ¤ν”„λ§ λ¶€νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ¤ν”„λ§ λ¶€νΈμ λ€ν‘ μ‹μ‘ μ •λ³΄μΈ **`@SpringBootApplication`**μ„ μ΄ ν”„λ΅μ νΈ μ‹μ‘ λ£¨νΈ μ„μΉμ— λ‘λ” κ²ƒμ΄ κ΄€λ΅€μ΄λ‹¤ (κ·Έλ¦¬κ³  μ΄ μ„¤μ • μ•μ— **`@ComponentScan`**μ΄ λ“¤μ–΄μμ! κ·Έλμ„ μ¤ν”„λ§λ¶€νΈλ¥Ό μ“°λ©΄ μλ™μΌλ΅ μ¤ν”„λ§ λΉμ΄ λ‹¤ λ“±λ΅λ¨)

### κΈ°λ³Έ μ¤μΊ” λ€μƒ

- @Component: μ»΄ν¬λ„νΈ μ¤μΊ”μ—μ„ μ‚¬μ©
- @Component ν•μ„ μ• λ…Έν…μ΄μ…
    - @Controller: μ¤ν”„λ§ MVC μ»¨νΈλ΅¤λ¬μ—μ„ μ‚¬μ©
    - @Service: μ¤ν”„λ§ λΉ„μ¦λ‹μ¤ λ΅μ§μ—μ„ μ‚¬μ©
    - @Repository: μ¤ν”„λ§ λ°μ΄ν„° μ ‘κ·Ό κ³„μΈµμ—μ„ μ‚¬μ©
    - @Configuration: μ¤ν”„λ§ μ„¤μ • μ •λ³΄μ—μ„ μ‚¬μ©

<aside>
π’΅ μ• λ…Έν…μ΄μ…μ€ μ‚¬μ‹¤ μƒμ†κ΄€κ³„κ°€ μλ” κ²ƒμ€ μ•„λ‹λ‹¤. κ·Έλμ„ μ• λ…Έν…μ΄μ…μ΄ νΉμ • μ• λ…Έν…μ΄μ…μ„ λ“¤κ³  μλ” κ²ƒμ„ μΈμ‹ν•  μ μλ” κ²ƒμ€ μλ°”λ‹¨μ—μ„ μ§€μ›ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ¤ν”„λ§λ‹¨μ—μ„ μ§€μ›ν•λ” κΈ°λ¥μ΄λ‹¤.

</aside>

- μ»΄ν¬λ„νΈ μ¤μΊ”μ μ©λ„ λΏλ§ μ•„λ‹λΌ λ‹¤μ μ• λ…Έν…μ΄μ…μ΄ μμΌλ©΄ μ¤ν”„λ§μ€ λ¶€κ°€ κΈ°λ¥μ„ μν–‰
    - @Controller : μ¤ν”„λ§ MVC μ»¨νΈλ΅¤λ¬λ΅ μΈμ‹
    - @Repository : μ¤ν”„λ§ λ°μ΄ν„° μ ‘κ·Ό κ³„μΈµμΌλ΅ μΈμ‹ν•κ³ , λ°μ΄ν„° κ³„μΈµμ μμ™Έλ¥Ό μ¤ν”„λ§ μμ™Έλ΅ λ³€ν™
    - @Configuration : μ•μ„ λ³΄μ•λ“―μ΄ μ¤ν”„λ§ μ„¤μ • μ •λ³΄λ΅ μΈμ‹ν•κ³ , μ¤ν”„λ§ λΉμ΄ μ‹±κΈ€ν†¤μ„ μ μ§€ν•λ„λ΅ μ¶”κ°€ μ²λ¦¬
    - @Service : μ‚¬μ‹¤ @Service λ” νΉλ³„ν• μ²λ¦¬λ¥Ό ν•μ§€ μ•λ”λ‹¤. λ€μ‹  κ°λ°μλ“¤μ΄ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ μ—¬κΈ°μ— μκ² κµ¬λ‚ λΌκ³  λΉ„μ¦λ‹μ¤ κ³„μΈµμ„ μΈμ‹ν•λ”λ° λ„μ›€μ΄ λλ‹¤.